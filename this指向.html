<!--
 * @Author: 千仞无锋
 * @Date: 2022-01-25 21:16:34
 * @LastEditors: 千仞无锋
 * @LastEditTime: 2022-01-25 22:32:38
 * @FilePath: \2022 01js练习\this指向.html
-->
<!DOCTYPE html>
<html lang="en">
<!-- 
3.5、this指向
this的指向在函数定义的时候是确定不了的，只有函数执行的时候才能确定this到底指向谁
现阶段，我们先了解一下几个this指向

全局作用域或者普通函数中this指向全局对象window(注意定时器里面的this指向window)
方法调用中谁调用this指向谁
构造函数中this指向构造函数实例
-->

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>This指向问题</title>
    <script>
        // ********* 全局作用域 或 普通函数中 this 指向 window **********
        console.log(this);
        //指向window
        function fn() {
            console.log(this);
        }
        window.fn(); //完整写法
        //指向window
        window.setTimeout(function() {
            console.log(this);
            //指向window
        }, 1000);
        //********* 方法中 this 指向 *******
        var o = {
            sayHi: function() {
                console.log(this);
            }
        }
        o.sayHi();
        // this 指向 对象o 。 指向调用者， 谁调用sayHi，o这个对象调用了
        //******** 构造函数 **************
        function Fn() {
            console.log(this);
        }
        var fun = new Fn();
        // Fn() 这个对象 实例化 后 赋值给了 fun
        //有个 new  就会开辟一个新空间，this指向这个空间 Fn {}
    </script>
</head>

<body>
    <button>点击</button>
    <script>
        var btn = window.document.querySelector('button');
        btn.addEventListener('click', function() {
            console.log(this);
            // this 指向  <button>点击</button>
            //btn 调用了这个函数， 所以 指向 btn
        })
    </script>
</body>

</html>